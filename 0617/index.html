<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>


  let sum = new Function('a', 'b', 'return a + b');

  console.log( sum(1, 2) ); // 3

  let sayHi = new Function('alert("Hello")');

  sayHi(); // Hello

  let func = new Function(str);
  func();

  function getFunc() {
    let value = "test";

    let func = new Function('alert(value)');

    return func;
  }

  getFunc()(); // ReferenceError: value is not defined

  function getFunc() {
    let value = "test";

    let func = function() { console.log(value); };

    return func;
  }

  getFunc()(); // getFunc의 렉시컬 환경에 있는 값 "test"가 출력


  function sayHi() {
    console.log('안녕하세요.');
  }
  setTimeout(sayHi, 1000);

  function sayHi(who, phrase) {
    console.log( who + ' 님, ' + phrase );
  }
  setTimeout(sayHi, 1000, "홍길동", "안녕하세요."); // 홍길동 님, 안녕하세요.

  setTimeout(() => console.log('안녕하세요.'), 1000);


  // 잘못된 코드
  setTimeout(sayHi(), 1000);

  let timerId = setTimeout(...);
  clearTimeout(timerId);

  let timerId = setTimeout(() => console.log("아무런 일도 일어나지 않습니다."), 1000);
  console.log(timerId); // 타이머 식별자

  clearTimeout(timerId);
  console.log(timerId); // 위 타이머 식별자와 동일함 (취소 후에도 식별자의 값은 null이 되지 않는다.)

  setTimeout(() => console.log("World"));

  console.log("Hello");


  // 2초 간격으로 메시지를 보여줌
  let timerId = setInterval(() => console.log('째깍'), 2000);

  // 5초 후에 정지
  setTimeout(() => { clearInterval(timerId); console.log('정지'); }, 5000);


  let i = 1;
  setInterval(function() {
    func(i++);
  }, 100);

  let i = 1;
  setTimeout(function run() {
    func(i++);
    setTimeout(run, 100);
  }, 100);

  </script>
</body>
</html>